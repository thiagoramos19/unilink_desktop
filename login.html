<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>UniLink - Login</title>
        <link rel="stylesheet" href="style.css">
        <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&amp;display=swap" rel="stylesheet">
    </head>
    <body>
        <div class="div_central">
            <img src="img/logo_unilink.png" alt="Logo Unilink" width="300">
            <div id="box">
                <h1>Fa√ßa seu login:</h1>
                <input type="email" id="email" placeholder="Email @edu.unirio.br">
                
                <div class="input-com-icone">
                    <input type="password" id="senha" placeholder="Senha">
                    <span class="icone-senha" onclick="senhaVisibilidade()">
                        <i id="eyeIcon" class="olho-fechado">üîí</i> 
                    </span>
                </div>
                <button id="escolha1" onclick="validarLogin()"> Entrar </button>
                <p>Ou</p>
                <button id="escolha2" onclick="window.location.href= 'cadastro_1.html'"> Criar uma conta </button>
            </div>
        </div>
        <script>
            function senhaVisibilidade() {
                const senhaInput = document.getElementById('senha');
                const icon = document.getElementById('eyeIcon');

                if (senhaInput.type === 'password') {
                    senhaInput.type = 'text';
                    icon.textContent = 'üëÅÔ∏è';
                    icon.classList.remove('olho-fechado');
                    icon.classList.add('olho-aberto');
                } else {
                    senhaInput.type = 'password';
                    icon.textContent = 'üîí';
                    icon.classList.remove('olho-aberto');
                    icon.classList.add('olho-fechado');
                }
            }
            
            function validarLogin() {
                const emailCorreto = "thiago.ivo@edu.unirio.br";
                const senhaCorreta = "123456"; ¬† 

                const emailInput = document.getElementById("email");
                const senhaInput = document.getElementById("senha");

                const emailDigitado = emailInput.value;
                const senhaDigitada = senhaInput.value;

                const erroAnterior = document.getElementById("mensagemdeerro");

                if (erroAnterior) {
                    erroAnterior.remove(); 
                    emailInput.classList.remove('borda-erro');
                    senhaInput.classList.remove('borda-erro');
                }
                
                if(!(emailDigitado.includes("@edu.unirio.br"))){
                    emailInput.classList.add('borda-erro');
                    senhaInput.classList.remove('borda-erro');
                    
                    const mensagemDeErro = document.createElement("p");
                    mensagemDeErro.id="mensagemdeerro";
                    const divBox = document.getElementById("box");
                    const elementoRef = document.getElementById("escolha1");
                    mensagemDeErro.textContent = "Email fora do formato @edu.unirio.br";

                    divBox.insertBefore(mensagemDeErro, elementoRef);
                    return;
                }
                else{
                    if (emailDigitado === emailCorreto && senhaDigitada === senhaCorreta) {
                        
                        alert("Login bem-sucedido! Bem-vindo(a), " + emailCorreto + "!");
                        window.location.href = "home.html";
                    } 
                    else { 
                        emailInput.classList.add('borda-erro');
                        senhaInput.classList.add('borda-erro');

                        const mensagemDeErro = document.createElement("p");
                        mensagemDeErro.id="mensagemdeerro";
                        const divBox = document.getElementById("box");
                        const elementoRef = document.getElementById("escolha1");
                        mensagemDeErro.textContent = "Email ou senha incorretos";
                        
                        divBox.insertBefore(mensagemDeErro, elementoRef);
                    }
                }
            }
        </script>
    </body>
</html>
